<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>com.arslan.swissknife</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>Swissknife</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="ovezberdyevarslan@gmail.com" url="https://www.arslan.com">Personal use</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
    Toolset for different kind of tasks, mostly created for personal use.
  ]]></description>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>Git4Idea</depends>
    <depends>com.intellij.java</depends>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="com.arslan.swissknife.state.CapgSettings" />

<!--        <checkinHandlerFactory implementation="com.arslan.swissknife.git.GitCommitMessageHandlerFactory"/>-->

        <localInspection
                displayName="Liquibase changelog path validator"
                language="XML" implementationClass="com.arslan.swissknife.inspections.LiquibaseChangelogInspection"
                groupKey="XML"
                groupName="XML inspection for CAPG"
                enabledByDefault="true"

        />

        <lang.inspectionSuppressor language="XML" implementationClass="com.arslan.swissknife.inspections.LiquibaseInspectionSuppressor"/>


        <psi.referenceContributor implementation="com.arslan.swissknife.psi.LiquibasePathReferenceContributor"
                                  language="XML"/>

        <intentionAction>
            <language>JAVA</language> <!-- available in 2022.3 and later -->
            <className>com.arslan.swissknife.intentions.ShowSave</className>
            <category>CAPG</category>
        </intentionAction>

    </extensions>

    <actions>

        <action
                id="com.arslan.swissknife.actions.transform.ExternalTransformerGroupHotkey"
                class="com.arslan.swissknife.actions.transform.ExternalTransformerGroup"
                text="Transformers"
                description="Read - update - replace the selection"
                popup="true"/>

        <!-- Grouping -->
        <group id="com.arslan.CAPGTools"
               text="CAPG"
               description="Custom operations"
               popup="true">

            <action
                    id="com.arslan.swissknife.actions.SettingsAction"
                    class="com.arslan.swissknife.actions.SettingsAction"
                    text="Settings"
                    description="Settings">
            </action>

            <separator/>

            <action
                    id="com.arslan.swissknife.actions.CreateFeatureBranch"
                    class="com.arslan.swissknife.actions.CreateFeatureBranch"
                    text="Create Jira branch"
                    description="Create new branch with specific Jira number">
            </action>

            <action
                    id="com.arslan.swissknife.actions.CreateReleaseBranch"
                    class="com.arslan.swissknife.actions.CreateReleaseBranch"
                    text="Create Release Jira branch"
                    description="Create new release branch with specific Jira number">
            </action>

            <action
                    id="com.arslan.swissknife.actions.UpdateMasterBranch"
                    class="com.arslan.swissknife.actions.UpdateMasterBranch"
                    text="Update Master Branch"
                    description="Update master branch">
            </action>

            <action
                    id="com.arslan.swissknife.actions.RebaseUponMasterBranch"
                    class="com.arslan.swissknife.actions.RebaseUponMasterBranch"
                    text="Rebase on Master"
                    description="Rebase on Master">
            </action>

            <action
                    id="com.arslan.swissknife.actions.RebaseUponReleaseBranch"
                    class="com.arslan.swissknife.actions.RebaseUponReleaseBranch"
                    text="Rebase on Release"
                    description="Rebase on Master">
            </action>

            <action
                    id="com.arslan.swissknife.actions.CreateMrAction"
                    class="com.arslan.swissknife.actions.CreateMrAction"
                    text="Create MR"
                    description="Create MR">
            </action>

            <separator/>

            <action
                    id="com.arslan.swissknife.actions.Jirafolder"
                    class="com.arslan.swissknife.actions.Jirafolder"
                    text="Jira Folder"
                    description="Open jira folder">
            </action>

            <action
                    id="com.arslan.swissknife.actions.FindDiff"
                    class="com.arslan.swissknife.actions.FindDiff"
                    text="Find Diff"
                    description="Find DIff">
            </action>

            <separator/>

            <action
                    id="com.arslan.swissknife.actions.CreateModifyCodeAction"
                    class="com.arslan.swissknife.actions.CreateModifyCodeAction"
                    text="Create/Modify Sql Query"
                    description="Create/Modify sql query">
            </action>

            <group
                    id = "com.arslan.swissknife.actions.InsertCodeActionGroup"
                    class= "com.arslan.swissknife.actions.InsertCodeActionGroup"
                    text="Insert Code"
                    description="Insert code"
                    popup="true"
            />

            <separator/>


            <action
                    id="com.arslan.swissknife.actions.transform.CreateModifyTransformer"
                    class="com.arslan.swissknife.actions.transform.CreateModifyTransformer"
                    text="Create/Modify Transformer"
                    description="Create/Modify transformer">
            </action>

            <group
                    id="com.arslan.swissknife.actions.transform.ExternalTransformerGroup"
                    class="com.arslan.swissknife.actions.transform.ExternalTransformerGroup"
                    text="Transformers"
                    description="Read - update - replace the selection"
                    popup="true"/>


            <separator/>
            <action
                    id="com.arslan.swissknife.actions.SearchKeywordInFiles"
                    class="com.arslan.swissknife.actions.SearchKeywordInFiles"
                    text="Search Keyword in Files"
                    description="Search keyword in files">
            </action>

            <separator/>

            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </group>

<!--        <action id="OpenGitLabMR"-->
<!--                class="com.arslan.swissknife.actions.OpenGitLabMRAction"-->
<!--                text="Open GitLab MR"-->
<!--                description="Open the associated GitLab Merge Request in a browser">-->
<!--            <add-to-group group-id="Vcs.Log.ContextMenu" anchor="first"/>-->
<!--        </action>-->

    </actions>


    <resource-bundle/>
</idea-plugin>